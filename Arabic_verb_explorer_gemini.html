<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arabic Verb Explorer - Master the 10 Forms</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .search-section {
            padding: 30px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .search-container {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
        }

        .search-input {
            padding: 15px 20px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 18px;
            min-width: 300px;
            text-align: center;
            direction: rtl;
        }

        .search-input:focus {
            outline: none;
            border-color: #4CAF50;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.3);
        }

        .popular-roots {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }

        .root-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .root-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .main-content {
            padding: 30px;
        }

        .root-display {
            text-align: center;
            margin-bottom: 30px;
        }

        .root-title {
            font-size: 3em;
            color: #4CAF50;
            margin-bottom: 10px;
            direction: rtl;
            font-weight: bold;
        }

        .root-meaning {
            font-size: 1.3em;
            color: #666;
            margin-bottom: 20px;
        }

        .form-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 30px;
            justify-content: center;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
        }

        .form-tab {
            background: #e9ecef;
            border: none;
            padding: 12px 18px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            min-width: 60px;
        }

        .form-tab.active {
            background: #4CAF50;
            color: white;
            transform: scale(1.05);
        }

        .form-tab:hover:not(.active) {
            background: #dee2e6;
            transform: translateY(-2px);
        }

        .form-details {
            background: white;
            border: 2px solid #4CAF50;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .form-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .form-number {
            font-size: 2.5em;
            color: #4CAF50;
            font-weight: bold;
        }

        .form-type {
            font-size: 1.3em;
            color: #666;
            margin-top: 10px;
        }

        .conjugation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .conjugation-item {
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            transition: transform 0.3s ease;
        }

        .conjugation-item:hover {
            transform: translateY(-5px);
        }

        .past {
            background: rgba(76, 175, 80, 0.1);
            border: 2px solid #4CAF50;
        }

        .present {
            background: rgba(76, 175, 80, 0.05);
            border: 2px solid #4CAF50;
        }

        .command {
            background: rgba(76, 175, 80, 0.02);
            border-bottom: 3px solid #4CAF50;
        }

        .tense-label {
            font-size: 14px;
            font-weight: bold;
            color: #4CAF50;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .arabic-text {
            font-size: 2.2em;
            direction: rtl;
            margin: 10px 0;
            font-weight: bold;
            color: #333;
        }

        .transliteration {
            font-size: 1.1em;
            color: #666;
            font-style: italic;
            margin-bottom: 5px;
        }

        .translation {
            font-size: 1em;
            color: #333;
        }

        .meaning-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .meaning-text {
            font-size: 1.3em;
            color: #333;
            font-weight: 500;
        }

        .quranic-example {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
        }

        .quranic-text {
            font-size: 1.8em;
            direction: rtl;
            margin-bottom: 10px;
            color: #333;
            font-weight: bold;
        }

        .quranic-translation {
            font-size: 1.1em;
            color: #555;
            font-style: italic;
        }

        .quranic-reference {
            font-size: 0.9em;
            color: #666;
            margin-top: 10px;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .nav-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .all-forms-view {
            display: none;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .all-forms-view.active {
            display: grid;
        }

        .form-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .form-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .tooltip {
            position: relative;
            cursor: help;
            color: #4CAF50;
            font-weight: bold;
        }

        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 14px;
            white-space: nowrap;
            z-index: 1000;
        }

        .tooltip:hover::before {
            content: '';
            position: absolute;
            bottom: 115%;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: #333;
            z-index: 1000;
        }

        .welcome-message {
            text-align: center;
            padding: 60px 30px;
            color: #666;
        }

        .welcome-message h2 {
            font-size: 2.5em;
            margin-bottom: 20px;
            color: #4CAF50;
        }

        .welcome-message p {
            font-size: 1.2em;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .search-input {
                min-width: 250px;
            }
            
            .form-tabs {
                justify-content: center;
            }
            
            .form-tab {
                min-width: 50px;
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .conjugation-grid {
                grid-template-columns: 1fr;
            }
            
            .arabic-text {
                font-size: 1.8em;
            }
            
            .root-title {
                font-size: 2.5em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Arabic Verb Explorer</h1>
            <p>Master the 10 Forms of Triliteral Root Verbs</p>
        </div>

        <div class="search-section">
            <div class="search-container">
                <input type="text" class="search-input" id="rootSearch" placeholder="ك-ت-ب" dir="rtl">
                <button class="root-btn" onclick="searchRoot()">Explore Root</button>
            </div>
            <div class="popular-roots">
                <button class="root-btn" onclick="loadRoot('كتب')">ك-ت-ب</button>
                <button class="root-btn" onclick="loadRoot('فعل')">ف-ع-ل</button>
                <button class="root-btn" onclick="loadRoot('درس')">د-ر-س</button>
                <button class="root-btn" onclick="loadRoot('علم')">ع-ل-م</button>
                <button class="root-btn" onclick="loadRoot('قرأ')">ق-ر-أ</button>
                <button class="root-btn" onclick="loadRoot('سمع')">س-م-ع</button>
            </div>
        </div>

        <div class="main-content">
            <div id="welcomeMessage" class="welcome-message">
                <h2>Welcome to Arabic Verb Explorer!</h2>
                <p>Discover the beauty and structure of Arabic verbs. Search for a <span class="tooltip" data-tooltip="Three-letter root that forms the basis of Arabic words">triliteral root</span> above or click on one of the popular roots to begin your journey through the 10 <span class="tooltip" data-tooltip="Verb patterns or forms in Arabic grammar">أوزان</span> (verb forms).</p>
            </div>

            <div id="rootContent" style="display: none;">
                <div class="root-display">
                    <div class="root-title" id="rootTitle"></div>
                    <div class="root-meaning" id="rootMeaning"></div>
                </div>

                <div class="form-tabs" id="formTabs">
                    <button class="form-tab active" onclick="showForm(1)">I</button>
                    <button class="form-tab" onclick="showForm(2)">II</button>
                    <button class="form-tab" onclick="showForm(3)">III</button>
                    <button class="form-tab" onclick="showForm(4)">IV</button>
                    <button class="form-tab" onclick="showForm(5)">V</button>
                    <button class="form-tab" onclick="showForm(6)">VI</button>
                    <button class="form-tab" onclick="showForm(7)">VII</button>
                    <button class="form-tab" onclick="showForm(8)">VIII</button>
                    <button class="form-tab" onclick="showForm(9)">IX</button>
                    <button class="form-tab" onclick="showForm(10)">X</button>
                </div>

                <div id="formDetails" class="form-details">
                    </div>

                <div class="navigation">
                    <button class="nav-btn" id="prevBtn" onclick="previousForm()">← Previous Form</button>
                    <button class="nav-btn" onclick="toggleAllForms()" id="allFormsBtn">View All Forms</button>
                    <button class="nav-btn" id="nextBtn" onclick="nextForm()">Next Form →</button>
                </div>

                <div id="allFormsView" class="all-forms-view">
                    </div>
            </div>
        </div>
    </div>

    <script>
        const verbData = {
            'كتب': {
                meaning: 'Writing, Books',
                forms: {
                    1: {
                        type: 'Basic Action',
                        past: { arabic: 'كَتَبَ', transliteration: 'kataba', translation: 'he wrote' },
                        present: { arabic: 'يَكْتُبُ', transliteration: 'yaktubu', translation: 'he writes' },
                        command: { arabic: 'اُكْتُبْ', transliteration: 'uktub', translation: 'write!' },
                        quranic: {
                            text: 'وَكَتَبْنَا لَهُ فِي الْأَلْوَاحِ',
                            translation: 'And We wrote for him on the tablets',
                            reference: 'Al-A\'raf 7:145'
                        }
                    },
                    2: {
                        type: 'Intensive/Causative',
                        past: { arabic: 'كَتَّبَ', transliteration: 'kattaba', translation: 'he made write/dictated' },
                        present: { arabic: 'يُكَتِّبُ', transliteration: 'yukattibu', translation: 'he makes write' },
                        command: { arabic: 'كَتِّبْ', transliteration: 'kattib', translation: 'make write!' }
                    },
                    3: {
                        type: 'Reciprocal/Attempt',
                        past: { arabic: 'كَاتَبَ', transliteration: 'kātaba', translation: 'he corresponded with' },
                        present: { arabic: 'يُكَاتِبُ', transliteration: 'yukātibu', translation: 'he corresponds' },
                        command: { arabic: 'كَاتِبْ', transliteration: 'kātib', translation: 'correspond!' }
                    },
                    4: {
                        type: 'Causative',
                        past: { arabic: 'أَكْتَبَ', transliteration: 'aktaba', translation: 'he caused to write' },
                        present: { arabic: 'يُكْتِبُ', transliteration: 'yuktibu', translation: 'he causes to write' },
                        command: { arabic: 'أَكْتِبْ', transliteration: 'aktib', translation: 'cause to write!' }
                    },
                    5: {
                        type: 'Reflexive of Form II',
                        past: { arabic: 'تَكَتَّبَ', transliteration: 'takattaba', translation: 'he learned to write' },
                        present: { arabic: 'يَتَكَتَّبُ', transliteration: 'yatakattabu', translation: 'he learns to write' },
                        command: { arabic: 'تَكَتَّبْ', transliteration: 'takattab', translation: 'learn to write!' }
                    },
                    6: {
                        type: 'Reflexive of Form III',
                        past: { arabic: 'تَكَاتَبَ', transliteration: 'takātaba', translation: 'he exchanged letters' },
                        present: { arabic: 'يَتَكَاتَبُ', transliteration: 'yatakātabu', translation: 'he exchanges letters' },
                        command: { arabic: 'تَكَاتَبْ', transliteration: 'takātab', translation: 'exchange letters!' }
                    },
                    7: {
                        type: 'Passive/Reflexive',
                        past: { arabic: 'اِنْكَتَبَ', transliteration: 'inkataba', translation: 'it was written/registered' },
                        present: { arabic: 'يَنْكَتِبُ', transliteration: 'yankatibu', translation: 'it gets written' },
                        command: { arabic: 'اِنْكَتِبْ', transliteration: 'inkatib', translation: 'be written!' }
                    },
                    8: {
                        type: 'Reflexive',
                        past: { arabic: 'اِكْتَتَبَ', transliteration: 'iktataba', translation: 'he registered/subscribed' },
                        present: { arabic: 'يَكْتَتِبُ', transliteration: 'yaktatibu', translation: 'he registers' },
                        command: { arabic: 'اِكْتَتِبْ', transliteration: 'iktatib', translation: 'register!' }
                    },
                    9: {
                        type: 'Colors/Defects',
                        past: { arabic: 'اِكْتَبَّ', transliteration: 'iktabba', translation: '(rare with this root)' },
                        present: { arabic: 'يَكْتَبُّ', transliteration: 'yaktabbu', translation: '(rare with this root)' },
                        command: { arabic: 'اِكْتَبَّ', transliteration: 'iktabb', translation: '(rare with this root)' }
                    },
                    10: {
                        type: 'Seeking/Considering',
                        past: { arabic: 'اِسْتَكْتَبَ', transliteration: 'istaktaba', translation: 'he asked to write/requested writing' },
                        present: { arabic: 'يَسْتَكْتِبُ', transliteration: 'yastaktibu', translation: 'he requests writing' },
                        command: { arabic: 'اِسْتَكْتِبْ', transliteration: 'istaktib', translation: 'request writing!' }
                    }
                }
            },
            'فعل': {
                meaning: 'Doing, Action',
                forms: {
                    1: {
                        type: 'Basic Action',
                        past: { arabic: 'فَعَلَ', transliteration: 'fa\'ala', translation: 'he did/acted' },
                        present: { arabic: 'يَفْعَلُ', transliteration: 'yaf\'alu', translation: 'he does/acts' },
                        command: { arabic: 'اِفْعَلْ', transliteration: 'if\'al', translation: 'do!' }
                    },
                    2: {
                        type: 'Intensive/Causative',
                        past: { arabic: 'فَعَّلَ', transliteration: 'fa\'\'ala', translation: 'he made do/activated' },
                        present: { arabic: 'يُفَعِّلُ', transliteration: 'yufa\'\'ilu', translation: 'he makes do' },
                        command: { arabic: 'فَعِّلْ', transliteration: 'fa\'\'il', translation: 'make do!' }
                    },
                    3: {
                        type: 'Reciprocal/Attempt',
                        past: { arabic: 'فَاعَلَ', transliteration: 'fā\'ala', translation: 'he interacted with' },
                        present: { arabic: 'يُفَاعِلُ', transliteration: 'yufā\'ilu', translation: 'he interacts' },
                        command: { arabic: 'فَاعِلْ', transliteration: 'fā\'il', translation: 'interact!' }
                    },
                    4: {
                        type: 'Causative',
                        past: { arabic: 'أَفْعَلَ', transliteration: 'af\'ala', translation: 'he caused to do' },
                        present: { arabic: 'يُفْعِلُ', transliteration: 'yuf\'ilu', translation: 'he causes to do' },
                        command: { arabic: 'أَفْعِلْ', transliteration: 'af\'il', translation: 'cause to do!' }
                    },
                    5: {
                        type: 'Reflexive of Form II',
                        past: { arabic: 'تَفَعَّلَ', transliteration: 'tafa\'\'ala', translation: 'he became active' },
                        present: { arabic: 'يَتَفَعَّلُ', transliteration: 'yatafa\'\'alu', translation: 'he becomes active' },
                        command: { arabic: 'تَفَعَّلْ', transliteration: 'tafa\'\'al', translation: 'become active!' }
                    },
                    6: {
                        type: 'Reflexive of Form III',
                        past: { arabic: 'تَفَاعَلَ', transliteration: 'tafā\'ala', translation: 'he interacted mutually' },
                        present: { arabic: 'يَتَفَاعَلُ', transliteration: 'yatafā\'alu', translation: 'he interacts mutually' },
                        command: { arabic: 'تَفَاعَلْ', transliteration: 'tafā\'al', translation: 'interact mutually!' }
                    },
                    7: {
                        type: 'Passive/Reflexive',
                        past: { arabic: 'اِنْفَعَلَ', transliteration: 'infa\'ala', translation: 'it was done/affected' },
                        present: { arabic: 'يَنْفَعِلُ', transliteration: 'yanfa\'ilu', translation: 'it gets done' },
                        command: { arabic: 'اِنْفَعِلْ', transliteration: 'infa\'il', translation: 'be done!' }
                    },
                    8: {
                        type: 'Reflexive',
                        past: { arabic: 'اِفْتَعَلَ', transliteration: 'ifta\'ala', translation: 'he did for himself' },
                        present: { arabic: 'يَفْتَعِلُ', transliteration: 'yafta\'ilu', translation: 'he does for himself' },
                        command: { arabic: 'اِفْتَعِلْ', transliteration: 'ifta\'il', translation: 'do for yourself!' }
                    },
                    9: {
                        type: 'Colors/Defects',
                        past: { arabic: 'اِفْعَلَّ', transliteration: 'if\'alla', translation: '(used for colors/defects)' },
                        present: { arabic: 'يَفْعَلُّ', transliteration: 'yaf\'allu', translation: '(used for colors/defects)' },
                        command: { arabic: 'اِفْعَلَّ', transliteration: 'if\'all', translation: '(used for colors/defects)' }
                    },
                    10: {
                        type: 'Seeking/Considering',
                        past: { arabic: 'اِسْتَفْعَلَ', transliteration: 'istaf\'ala', translation: 'he sought to do' },
                        present: { arabic: 'يَسْتَفْعِلُ', transliteration: 'yastaf\'ilu', translation: 'he seeks to do' },
                        command: { arabic: 'اِسْتَفْعِلْ', transliteration: 'istaf\'il', translation: 'seek to do!' }
                    }
                }
            },
            'درس': {
                meaning: 'Study, Learning',
                forms: {
                    1: {
                        type: 'Basic Action',
                        past: { arabic: 'دَرَسَ', transliteration: 'darasa', translation: 'he studied' },
                        present: { arabic: 'يَدْرُسُ', transliteration: 'yadrusu', translation: 'he studies' },
                        command: { arabic: 'اُدْرُسْ', transliteration: 'udrus', translation: 'study!' }
                    },
                    2: {
                        type: 'Intensive/Causative',
                        past: { arabic: 'دَرَّسَ', transliteration: 'darrasa', translation: 'he taught' },
                        present: { arabic: 'يُدَرِّسُ', transliteration: 'yudarrisu', translation: 'he teaches' },
                        command: { arabic: 'دَرِّسْ', transliteration: 'darris', translation: 'teach!' }
                    },
                    3: {
                        type: 'Reciprocal/Attempt',
                        past: { arabic: 'دَارَسَ', transliteration: 'dārasa', translation: 'he studied with' },
                        present: { arabic: 'يُدَارِسُ', transliteration: 'yudārisu', translation: 'he studies with' },
                        command: { arabic: 'دَارِسْ', transliteration: 'dāris', translation: 'study with!' }
                    },
                    4: {
                        type: 'Causative',
                        past: { arabic: 'أَدْرَسَ', transliteration: 'adrasa', translation: 'he made study' },
                        present: { arabic: 'يُدْرِسُ', transliteration: 'yudrisu', translation: 'he makes study' },
                        command: { arabic: 'أَدْرِسْ', transliteration: 'adris', translation: 'make study!' }
                    },
                    5: {
                        type: 'Reflexive of Form II',
                        past: { arabic: 'تَدَرَّسَ', transliteration: 'tadarrasa', translation: 'he learned gradually' },
                        present: { arabic: 'يَتَدَرَّسُ', transliteration: 'yatadarrasu', translation: 'he learns gradually' },
                        command: { arabic: 'تَدَرَّسْ', transliteration: 'tadarras', translation: 'learn gradually!' }
                    },
                    6: {
                        type: 'Reflexive of Form III',
                        past: { arabic: 'تَدَارَسَ', transliteration: 'tadārasa', translation: 'he studied together' },
                        present: { arabic: 'يَتَدَارَسُ', transliteration: 'yatadārasu', translation: 'he studies together' },
                        command: { arabic: 'تَدَارَسْ', transliteration: 'tadāras', translation: 'study together!' }
                    },
                    7: {
                        type: 'Passive/Reflexive',
                        past: { arabic: 'اِنْدَرَسَ', transliteration: 'indarrasa', translation: 'it was studied' },
                        present: { arabic: 'يَنْدَرِسُ', transliteration: 'yandarrisu', translation: 'it gets studied' },
                        command: { arabic: 'اِنْدَرِسْ', transliteration: 'indarris', translation: 'be studied!' }
                    },
                    8: {
                        type: 'Reflexive',
                        past: { arabic: 'اِدْتَرَسَ', transliteration: 'idtarasa', translation: 'he engaged in study' },
                        present: { arabic: 'يَدْتَرِسُ', transliteration: 'yadtarisu', translation: 'he engages in study' },
                        command: { arabic: 'اِدْتَرِسْ', transliteration: 'idtaris', translation: 'engage in study!' }
                    },
                    9: {
                        type: 'Colors/Defects',
                        past: { arabic: 'اِدْرَسَّ', transliteration: 'idrassa', translation: '(rare with this root)' },
                        present: { arabic: 'يَدْرَسُّ', transliteration: 'yadrassu', translation: '(rare with this root)' },
                        command: { arabic: 'اِدْرَسَّ', transliteration: 'idrass', translation: '(rare with this root)' }
                    },
                    10: {
                        type: 'Seeking/Considering',
                        past: { arabic: 'اِسْتَدْرَسَ', transliteration: 'istadrasa', translation: 'he sought to study' },
                        present: { arabic: 'يَسْتَدْرِسُ', transliteration: 'yastadrisu', translation: 'he seeks to study' },
                        command: { arabic: 'اِسْتَدْرِسْ', transliteration: 'istadris', translation: 'seek to study!' }
                    }
                }
            },
            'علم': {
                meaning: 'Knowledge, Knowing',
                forms: {
                    1: {
                        type: 'Basic Action',
                        past: { arabic: 'عَلِمَ', transliteration: 'ʿalima', translation: 'he knew' },
                        present: { arabic: 'يَعْلَمُ', transliteration: 'yaʿlamu', translation: 'he knows' },
                        command: { arabic: 'اِعْلَمْ', transliteration: 'iʿlam', translation: 'know!' },
                        quranic: {
                            text: 'وَقُل رَّبِّ زِدْنِي عِلْمًا',
                            translation: 'And say, "My Lord, increase me in knowledge."',
                            reference: 'Taha 20:114'
                        }
                    },
                    2: {
                        type: 'Intensive/Causative',
                        past: { arabic: 'عَلَّمَ', transliteration: 'ʿallama', translation: 'he taught' },
                        present: { arabic: 'يُعَلِّمُ', transliteration: 'yuʿallimu', translation: 'he teaches' },
                        command: { arabic: 'عَلِّمْ', transliteration: 'ʿallim', translation: 'teach!' }
                    },
                    3: {
                        type: 'Reciprocal/Attempt',
                        past: { arabic: 'عَالَمَ', transliteration: 'ʿālama', translation: 'he had dealings with' },
                        present: { arabic: 'يُعَالِمُ', transliteration: 'yuʿālimu', translation: 'he has dealings' },
                        command: { arabic: 'عَالِمْ', transliteration: 'ʿālim', translation: 'have dealings!' }
                    },
                    4: {
                        type: 'Causative',
                        past: { arabic: 'أَعْلَمَ', transliteration: 'aʿlama', translation: 'he informed' },
                        present: { arabic: 'يُعْلِمُ', transliteration: 'yuʿlimu', translation: 'he informs' },
                        command: { arabic: 'أَعْلِمْ', transliteration: 'aʿlim', translation: 'inform!' }
                    },
                    5: {
                        type: 'Reflexive of Form II',
                        past: { arabic: 'تَعَلَّمَ', transliteration: 'taʿallama', translation: 'he learned' },
                        present: { arabic: 'يَتَعَلَّمُ', transliteration: 'yataʿallamu', translation: 'he learns' },
                        command: { arabic: 'تَعَلَّمْ', transliteration: 'taʿallam', translation: 'learn!' }
                    },
                    6: {
                        type: 'Reciprocal of Form III',
                        past: { arabic: 'تَعَالَمَ', transliteration: 'taʿālama', translation: 'he pretended to know' },
                        present: { arabic: 'يَتَعَالَمُ', transliteration: 'yataʿālamu', translation: 'he pretends to know' },
                        command: { arabic: 'تَعَالَمْ', transliteration: 'taʿālam', translation: 'pretend to know!' }
                    },
                    7: {
                        type: 'Passive/Reflexive',
                        past: { arabic: 'اِنْعَلَمَ', transliteration: 'inʿalama', translation: 'it became known' },
                        present: { arabic: 'يَنْعَلِمُ', transliteration: 'yanʿalimu', translation: 'it becomes known' },
                        command: { arabic: 'اِنْعَلِمْ', transliteration: 'inʿalim', translation: 'become known!' }
                    },
                    8: {
                        type: 'Reflexive',
                        past: { arabic: 'اِعْتَلَمَ', transliteration: 'iʿtalam', translation: 'he sought knowledge' },
                        present: { arabic: 'يَعْتَلِمُ', transliteration: 'yaʿtalimu', translation: 'he seeks knowledge' },
                        command: { arabic: 'اِعْتَلِمْ', transliteration: 'iʿtalim', translation: 'seek knowledge!' }
                    },
                    9: {
                        type: 'Colors/Defects',
                        past: { arabic: 'اِعْلَمَّ', transliteration: 'iʿlamma', translation: '(rare with this root)' },
                        present: { arabic: 'يَعْلَمُّ', transliteration: 'yaʿlammu', translation: '(rare with this root)' },
                        command: { arabic: 'اِعْلَمَّ', transliteration: 'iʿlamm', translation: '(rare with this root)' }
                    },
                    10: {
                        type: 'Seeking/Considering',
                        past: { arabic: 'اِسْتَعْلَمَ', transliteration: 'istaʿlama', translation: 'he inquired' },
                        present: { arabic: 'يَسْتَعْلِمُ', transliteration: 'yastaʿlimu', translation: 'he inquires' },
                        command: { arabic: 'اِسْتَعْلِمْ', transliteration: 'istaʿlim', translation: 'inquire!' }
                    }
                }
            },
            'قرأ': {
                meaning: 'Reading, Reciting',
                forms: {
                    1: {
                        type: 'Basic Action',
                        past: { arabic: 'قَرَأَ', transliteration: 'qaraʾa', translation: 'he read/recited' },
                        present: { arabic: 'يَقْرَأُ', transliteration: 'yaqraʾu', translation: 'he reads/recites' },
                        command: { arabic: 'اِقْرَأْ', transliteration: 'iqraʾ', translation: 'read/recite!' },
                        quranic: {
                            text: 'اِقْرَأْ بِاسْمِ رَبِّكَ الَّذِي خَلَقَ',
                            translation: 'Recite in the name of your Lord who created',
                            reference: 'Al-Alaq 96:1'
                        }
                    },
                    2: {
                        type: 'Intensive/Causative',
                        past: { arabic: 'قَرَّأَ', transliteration: 'qarraʾa', translation: 'he taught to read/recite' },
                        present: { arabic: 'يُقَرِّئُ', transliteration: 'yuqarriʾu', translation: 'he teaches to read' },
                        command: { arabic: 'قَرِّئْ', transliteration: 'qarriʾ', translation: 'teach to read!' }
                    },
                    3: {
                        type: 'Reciprocal/Attempt',
                        past: { arabic: 'قَارَأَ', transliteration: 'qāraʾa', translation: 'he read with' },
                        present: { arabic: 'يُقَارِئُ', transliteration: 'yuqāriʾu', translation: 'he reads with' },
                        command: { arabic: 'قَارِئْ', transliteration: 'qāriʾ', translation: 'read with!' }
                    },
                    4: {
                        type: 'Causative',
                        past: { arabic: 'أَقْرَأَ', transliteration: 'aqraʾa', translation: 'he made read/dictated' },
                        present: { arabic: 'يُقْرِئُ', transliteration: 'yuqriʾu', translation: 'he makes read' },
                        command: { arabic: 'أَقْرِئْ', transliteration: 'aqriʾ', translation: 'make read!' }
                    },
                    5: {
                        type: 'Reflexive of Form II',
                        past: { arabic: 'تَقَرَّأَ', transliteration: 'taqarraʾa', translation: 'he read carefully' },
                        present: { arabic: 'يَتَقَرَّأُ', transliteration: 'yataqarraʾu', translation: 'he reads carefully' },
                        command: { arabic: 'تَقَرَّأْ', transliteration: 'taqarraʾ', translation: 'read carefully!' }
                    },
                    6: {
                        type: 'Reflexive of Form III',
                        past: { arabic: 'تَقَارَأَ', transliteration: 'taqāraʾa', translation: 'they read to each other' },
                        present: { arabic: 'يَتَقَارَأُ', transliteration: 'yataqāraʾu', translation: 'they read to each other' },
                        command: { arabic: 'تَقَارَأْ', transliteration: 'taqāraʾ', translation: 'read to each other!' }
                    },
                    7: {
                        type: 'Passive/Reflexive',
                        past: { arabic: 'اِنْقَرَأَ', transliteration: 'inqaraʾa', translation: 'it was read' },
                        present: { arabic: 'يَنْقَرِئُ', transliteration: 'yanqariʾu', translation: 'it gets read' },
                        command: { arabic: 'اِنْقَرِئْ', transliteration: 'inqariʾ', translation: 'be read!' }
                    },
                    8: {
                        type: 'Reflexive',
                        past: { arabic: 'اِقْتَرَأَ', transliteration: 'iqtaraʾa', translation: 'he recited' },
                        present: { arabic: 'يَقْتَرِئُ', transliteration: 'yaqtariʾu', translation: 'he recites' },
                        command: { arabic: 'اِقْتَرِئْ', transliteration: 'iqtariʾ', translation: 'recite!' }
                    },
                    9: {
                        type: 'Colors/Defects',
                        past: { arabic: 'اِقْرَأَّ', transliteration: 'iqraʾʾa', translation: '(rare with this root)' },
                        present: { arabic: 'يَقْرَأُّ', transliteration: 'yaqraʾʾu', translation: '(rare with this root)' },
                        command: { arabic: 'اِقْرَأَّ', transliteration: 'iqraʾʾ', translation: '(rare with this root)' }
                    },
                    10: {
                        type: 'Seeking/Considering',
                        past: { arabic: 'اِسْتَقْرَأَ', transliteration: 'istaqraʾa', translation: 'he sought to read/consulted' },
                        present: { arabic: 'يَسْتَقْرِئُ', transliteration: 'yastaqriʾu', translation: 'he seeks to read' },
                        command: { arabic: 'اِسْتَقْرِئْ', transliteration: 'istaqriʾ', translation: 'seek to read!' }
                    }
                }
            },
            'سمع': {
                meaning: 'Hearing, Listening',
                forms: {
                    1: {
                        type: 'Basic Action',
                        past: { arabic: 'سَمِعَ', transliteration: 'samiʿa', translation: 'he heard' },
                        present: { arabic: 'يَسْمَعُ', transliteration: 'yasmaʿu', translation: 'he hears' },
                        command: { arabic: 'اِسْمَعْ', transliteration: 'ismaʿ', translation: 'hear!' },
                        quranic: {
                            text: 'قَدْ سَمِعَ اللَّهُ قَوْلَ الَّتِي تُجَادِلُكَ',
                            translation: 'Certainly has Allah heard the speech of she who argues with you',
                            reference: 'Al-Mujadila 58:1'
                        }
                    },
                    2: {
                        type: 'Intensive/Causative',
                        past: { arabic: 'سَمَّعَ', transliteration: 'sammaʿa', translation: 'he made hear/broadcast' },
                        present: { arabic: 'يُسَمِّعُ', transliteration: 'yusammiʿu', translation: 'he makes hear' },
                        command: { arabic: 'سَمِّعْ', transliteration: 'sammiʿ', translation: 'make hear!' }
                    },
                    3: {
                        type: 'Reciprocal/Attempt',
                        past: { arabic: 'سَامَعَ', transliteration: 'sāmaʿa', translation: 'he listened to' },
                        present: { arabic: 'يُسَامِعُ', transliteration: 'yusāmiʿu', translation: 'he listens to' },
                        command: { arabic: 'سَامِعْ', transliteration: 'sāmiʿ', translation: 'listen to!' }
                    },
                    4: {
                        type: 'Causative',
                        past: { arabic: 'أَسْمَعَ', transliteration: 'asmaʿa', translation: 'he caused to hear' },
                        present: { arabic: 'يُسْمِعُ', transliteration: 'yusmiʿu', translation: 'he causes to hear' },
                        command: { arabic: 'أَسْمِعْ', transliteration: 'asmiʿ', translation: 'cause to hear!' }
                    },
                    5: {
                        type: 'Reflexive of Form II',
                        past: { arabic: 'تَسَمَّعَ', transliteration: 'tasammaʿa', translation: 'he listened intently' },
                        present: { arabic: 'يَتَسَمَّعُ', transliteration: 'yatasammaʿu', translation: 'he listens intently' },
                        command: { arabic: 'تَسَمَّعْ', transliteration: 'tasammaʿ', translation: 'listen intently!' }
                    },
                    6: {
                        type: 'Reflexive of Form III',
                        past: { arabic: 'تَسَامَعَ', transliteration: 'tasāmaʿa', translation: 'they heard each other' },
                        present: { arabic: 'يَتَسَامَعُ', transliteration: 'yatasāmaʿu', translation: 'they hear each other' },
                        command: { arabic: 'تَسَامَعْ', transliteration: 'tasāmaʿ', translation: 'hear each other!' }
                    },
                    7: {
                        type: 'Passive/Reflexive',
                        past: { arabic: 'اِنْسَمَعَ', transliteration: 'insamaʿa', translation: 'it was heard' },
                        present: { arabic: 'يَنْسَمِعُ', transliteration: 'yansamiʿu', translation: 'it gets heard' },
                        command: { arabic: 'اِنْسَمِعْ', transliteration: 'insamiʿ', translation: 'be heard!' }
                    },
                    8: {
                        type: 'Reflexive',
                        past: { arabic: 'اِسْتَمَعَ', transliteration: 'istamaʿa', translation: 'he listened' },
                        present: { arabic: 'يَسْتَمِعُ', transliteration: 'yastamiʿu', translation: 'he listens' },
                        command: { arabic: 'اِسْتَمِعْ', transliteration: 'istamiʿ', translation: 'listen!' }
                    },
                    9: {
                        type: 'Colors/Defects',
                        past: { arabic: 'اِسْمَعَّ', transliteration: 'ismaʿʿa', translation: '(rare with this root)' },
                        present: { arabic: 'يَسْمَعُّ', transliteration: 'yasmaʿʿu', translation: '(rare with this root)' },
                        command: { arabic: 'اِسْمَعَّ', transliteration: 'ismaʿʿ', translation: '(rare with this root)' }
                    },
                    10: {
                        type: 'Seeking/Considering',
                        past: { arabic: 'اِسْتَسْمَعَ', transliteration: 'istasmaʿa', translation: 'he sought to hear/asked to be heard' },
                        present: { arabic: 'يَسْتَسْمِعُ', transliteration: 'yastasmaʿu', translation: 'he seeks to hear' },
                        command: { arabic: 'اِسْتَسْمِعْ', transliteration: 'istasmiʿ', translation: 'seek to hear!' }
                    }
                }
            }
        };

        let currentRoot = '';
        let currentForm = 1;
        let isAllFormsView = false;

        const welcomeMessageDiv = document.getElementById('welcomeMessage');
        const rootContentDiv = document.getElementById('rootContent');
        const rootTitleDiv = document.getElementById('rootTitle');
        const rootMeaningDiv = document.getElementById('rootMeaning');
        const formTabsDiv = document.getElementById('formTabs');
        const formDetailsDiv = document.getElementById('formDetails');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const allFormsBtn = document.getElementById('allFormsBtn');
        const allFormsViewDiv = document.getElementById('allFormsView');

        function loadRoot(root) {
            currentRoot = root;
            currentForm = 1; // Reset to Form I when a new root is loaded
            welcomeMessageDiv.style.display = 'none';
            rootContentDiv.style.display = 'block';
            allFormsViewDiv.classList.remove('active');
            allFormsBtn.textContent = 'View All Forms';
            isAllFormsView = false;
            
            displayRootInfo();
            showForm(currentForm);
            updateNavigationButtons();
        }

        function searchRoot() {
            const searchInput = document.getElementById('rootSearch').value.trim();
            if (searchInput && verbData[searchInput]) {
                loadRoot(searchInput);
            } else {
                alert('Root not found. Please try another root or choose from popular roots.');
            }
        }

        function displayRootInfo() {
            if (currentRoot && verbData[currentRoot]) {
                rootTitleDiv.textContent = currentRoot;
                rootMeaningDiv.textContent = `Meaning: ${verbData[currentRoot].meaning}`;
            }
        }

        function showForm(formNumber) {
            if (!currentRoot || !verbData[currentRoot] || !verbData[currentRoot].forms[formNumber]) {
                formDetailsDiv.innerHTML = '<p style="text-align: center; color: #dc3545;">Form data not available for this root.</p>';
                return;
            }

            currentForm = formNumber;
            const form = verbData[currentRoot].forms[formNumber];

            // Update active tab
            Array.from(formTabsDiv.children).forEach(tab => {
                tab.classList.remove('active');
                if (parseInt(tab.textContent) === formNumber) {
                    tab.classList.add('active');
                }
            });

            let quranicExampleHtml = '';
            if (form.quranic) {
                quranicExampleHtml = `
                    <div class="quranic-example">
                        <div class="quranic-text">${form.quranic.text}</div>
                        <div class="quranic-translation">${form.quranic.translation}</div>
                        <div class="quranic-reference">${form.quranic.reference}</div>
                    </div>
                `;
            }

            formDetailsDiv.innerHTML = `
                <div class="form-header">
                    <div class="form-number">Form ${formNumber}</div>
                    <div class="form-type">${form.type}</div>
                </div>
                <div class="meaning-section">
                    <div class="meaning-text">Meaning: ${form.past.translation} (basic meaning)</div>
                </div>
                <div class="conjugation-grid">
                    <div class="conjugation-item past">
                        <div class="tense-label">Past Tense (Perfect)</div>
                        <div class="arabic-text">${form.past.arabic}</div>
                        <div class="transliteration">${form.past.transliteration}</div>
                        <div class="translation">${form.past.translation}</div>
                    </div>
                    <div class="conjugation-item present">
                        <div class="tense-label">Present Tense (Imperfect)</div>
                        <div class="arabic-text">${form.present.arabic}</div>
                        <div class="transliteration">${form.present.transliteration}</div>
                        <div class="translation">${form.present.translation}</div>
                    </div>
                    <div class="conjugation-item command">
                        <div class="tense-label">Command (Imperative)</div>
                        <div class="arabic-text">${form.command.arabic}</div>
                        <div class="transliteration">${form.command.transliteration}</div>
                        <div class="translation">${form.command.translation}</div>
                    </div>
                </div>
                ${quranicExampleHtml}
            `;
            updateNavigationButtons();
        }

        function previousForm() {
            if (currentForm > 1) {
                showForm(currentForm - 1);
            }
        }

        function nextForm() {
            if (currentForm < 10) {
                showForm(currentForm + 1);
            }
        }

        function updateNavigationButtons() {
            prevBtn.disabled = currentForm === 1;
            nextBtn.disabled = currentForm === 10;
        }

        function toggleAllForms() {
            isAllFormsView = !isAllFormsView;
            if (isAllFormsView) {
                allFormsBtn.textContent = 'View Single Form';
                formDetailsDiv.style.display = 'none';
                formTabsDiv.style.display = 'none';
                allFormsViewDiv.classList.add('active');
                renderAllForms();
            } else {
                allFormsBtn.textContent = 'View All Forms';
                formDetailsDiv.style.display = 'block';
                formTabsDiv.style.display = 'flex';
                allFormsViewDiv.classList.remove('active');
                showForm(currentForm); // Re-display the current single form
            }
        }

        function renderAllForms() {
            if (!currentRoot || !verbData[currentRoot]) {
                allFormsViewDiv.innerHTML = '<p style="text-align: center; color: #dc3545;">Root data not loaded.</p>';
                return;
            }

            let allFormsHtml = '';
            for (let i = 1; i <= 10; i++) {
                const form = verbData[currentRoot].forms[i];
                if (form) {
                    allFormsHtml += `
                        <div class="form-card">
                            <div class="form-number">Form ${i}</div>
                            <div class="form-type">${form.type}</div>
                            <hr style="margin: 10px 0;">
                            <div class="tense-label">Past Tense</div>
                            <div class="arabic-text">${form.past.arabic}</div>
                            <div class="translation">${form.past.translation}</div>
                            <br>
                            <div class="tense-label">Present Tense</div>
                            <div class="arabic-text">${form.present.arabic}</div>
                            <div class="translation">${form.present.translation}</div>
                            <br>
                            <div class="tense-label">Command</div>
                            <div class="arabic-text">${form.command.arabic}</div>
                            <div class="translation">${form.command.translation}</div>
                        </div>
                    `;
                } else {
                    allFormsHtml += `
                        <div class="form-card">
                            <div class="form-number">Form ${i}</div>
                            <div class="form-type">N/A</div>
                            <p>Data not available for this form.</p>
                        </div>
                    `;
                }
            }
            allFormsViewDiv.innerHTML = allFormsHtml;
        }

        // Initialize with a default root or show welcome message
        document.addEventListener('DOMContentLoaded', () => {
            // Optional: load a default root on page load, e.g., loadRoot('كتب');
            // Or keep the welcome message visible until user interaction
        });
    </script>
</body>
</html>